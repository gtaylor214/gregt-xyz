<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- Prevent scaling on mobile -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Zola 3D Engine</title>
    <link rel="stylesheet" href="/main.css">
</head>
<body>

    <!-- UI Overlay -->
    <div class="ui-layer">
        <div>
            <b>Zola 3D Engine</b><br>
            <span class="desktop-hint">WASD to Move &bull; Space to Jump &bull; Click to Look</span>
            <span class="mobile-hint" style="display:none; opacity:0.7;">Left: Move &bull; Right: Look</span>
        </div>
        <div id="fps-counter" class="ui-fps">FPS: 0</div>
    </div>

    <!-- NEW: Mobile Controller Elements -->
    <div class="joystick-knob"></div>
    <div class="mobile-jump-btn" id="btn-jump">JUMP</div>

    <!-- Compile Scene -->
    {% include "partials/scene.html" %}

    <!-- Initialize Driver -->
    <script type="module">
        import { FirstPersonController } from '/js/FirstPersonController.js';
        
        // Simple detection to toggle UI text
        if (window.matchMedia("(pointer: coarse)").matches) {
            document.querySelector('.desktop-hint').style.display = 'none';
            document.querySelector('.mobile-hint').style.display = 'inline';
        }

        new FirstPersonController();
    </script>
</body>
</html>