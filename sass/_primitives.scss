/* 1. Treadmill Grid */
.primitive-grid {
    position: absolute;
    top: 50%; left: 50%;
    
    --grid-x: 0px; 
    --grid-y: 0px; /* Forward/Back Data */
    
    /* Z-UP Mapping: Data Y maps to CSS Z (Depth) */
    transform: 
        translate3d(
            calc(-50% + var(--grid-x)), 
            -50%, 
            var(--grid-y)
        ) 
        rotateX(90deg);
    
    background-image: 
        linear-gradient(var(--grid-color, #333) 2px, transparent 2px),
        linear-gradient(90deg, var(--grid-color, #333) 2px, transparent 2px);
    
    background-size: 100px 100px; 
    background-position: center;
    
    -webkit-mask-image: radial-gradient(circle, black 30%, transparent 70%);
    mask-image: radial-gradient(circle, black 30%, transparent 70%);
    
    will-change: transform;
    pointer-events: none;
}

/* 2. Cube */
.primitive-cube {
    position: absolute;
    transform-style: preserve-3d;
    top: 50%; left: 50%;
    
    --cube-x: 0px; 
    --cube-y: 0px; 
    --cube-z: 0px; 
    --size: 100px;
    
    width: var(--size);
    height: var(--size);
    
    /* Z-UP Mapping */
    transform: translate3d(
        calc(-50% + var(--cube-x)), 
        calc(-50% - var(--cube-z)), 
        var(--cube-y)
    );
    
    contain: layout style;
}

.cube-face {
    position: absolute;
    width: 100%; height: 100%;
    box-sizing: border-box;
    border: 2px solid currentColor;
    background: #111;
    color: inherit;
    display: flex; align-items: center; justify-content: center;
    font-size: 20px; font-weight: bold;
    backface-visibility: hidden; 
}

.face-front  { transform: translateZ(calc(var(--size) / 2)); }
.face-back   { transform: rotateY(180deg) translateZ(calc(var(--size) / 2)); }
.face-right  { transform: rotateY(90deg) translateZ(calc(var(--size) / 2)); }
.face-left   { transform: rotateY(-90deg) translateZ(calc(var(--size) / 2)); }
.face-top    { transform: rotateX(90deg) translateZ(calc(var(--size) / 2)); }
.face-bottom { transform: rotateX(-90deg) translateZ(calc(var(--size) / 2)); }